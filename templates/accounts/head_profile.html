{% extends 'base.html' %}
{% load static %}
{% block title %}  Department Head's Home Page  {% endblock %}
  {% block content %}
  <br/><br/>
  <div class="row my-5">
    <div class="col-md-3 d-none d-md-block bg-secondary">
      <nav class="navbar navbar-expand-lg flex-column bg-secondary">
        <button class="navbar-toggler bg-primary" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon text-white"><i class="fas fa-bars"></i></span>
        </button>
        <div class="collapse navbar-collapse bg-primary p-2" id="navbarNav">
          <ul class="navbar-nav flex-column">
            <li class="nav-item">
              <a class="nav-link text-white" href="{% url 'admin-dashboard' %}">Home</a>
            </li>

            <div id="accordion">
                <a class="nav-link text-white" data-toggle="collapse" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  Manage Courses<i class="fas fa-caret-down"></i>
                </a>
                <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                  <div class="card-body">
                    <ul class="nav flex-column">
                      <li class="nav-item">
                        <a class="nav-link text-white" href="{% url 'course-offer' %}"> Course offer</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-white" href="{% url 'course-offering-view' %}">View courses offered</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-white" href="{% url 'teacher-courses' %}">View my courses</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-white" href="{% url 'my-all-department-courses' %}">Our department courses</a>
                      </li>
                    </ul>
                  </div>
                </div>
            </div>

            <div id="accordion">
                <a class="nav-link text-white" data-toggle="collapse" href="#collapseSecond" aria-expanded="true" aria-controls="collapseOne">
                  Our department Staffs<i class="fas fa-caret-down"></i>
                </a>
                <div id="collapseSecond" class="collapse" aria-labelledby="headingSecond" data-parent="#accordion">
                  <div class="card-body">
                    <ul class="nav flex-column">
                      <li class="nav-item">
                        <a class="nav-link text-white" href="{% url 'teacher-list' %}">Our department teachers</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-white" href="{% url 'student-list' %}">Our department students</a>
                      </li>
                    </ul>
                  </div>
                </div>
            </div>
            <li class="nav-item">
              <a class="nav-link text-white" href="{% url 'add-teacher' %}">Call meetings</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="{% url 'teacher-list' %}">View schedules</a>
            <li class="nav-item">
              <a class="nav-link text-white" href="{% url 'manage-leave-request' %}">Manage leave request</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="{% url 'add-course' %}">Give feedback</a>
            </li>

            <div id="accordion">
                <a class="nav-link text-white" data-toggle="collapse" href="#collapseThird" aria-expanded="true" aria-controls="collapseOne">
                  Evaluation and Grading<i class="fas fa-caret-down"></i>
                </a>
                <div id="collapseThird" class="collapse" aria-labelledby="headingThird" data-parent="#accordion">
                  <div class="card-body">
                    <ul class="nav flex-column">
                      <li class="nav-item">
                        <a class="nav-link text-white" href="{% url 'add-assessment' %}">Add assessment</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-white" href="{% url 'assessments' %}">View assessments</a>
                      </li>
                    </ul>
                  </div>
                </div>
            </div>

          </ul>
        </div>
      </nav>
    </div>

    <!-- body-->
    <div class="statbox pl-5">
      <div class="bg-secondary d-flex align-items-center mb-3 pl-3" style="width: 40rem;">
        <span class="text-primary pr-2">
          <i class="fas fa-user-graduate fa-3x"></i>
        </span>
        <P class="pt-3">
          Welcome back,
          {% if profile.role == 'teacher' %}
            Teacher
          {% elif profile.role == 'student' %}
             Student
          {% elif profile.role == 'staff' %}
          {% endif %}
          {% if profile.user.first_name %}
            {{ profile.user.first_name|capfirst }} {{ profile.user.last_name|capfirst }}!
          {% else %}
            {{ profile.user.username }}!
          {% endif %}
          {% if profile.position == 'head' %}
            <br>
            <small>Head of <span>{{ profile.department }} department</span></small>
          {% endif %}
        </P>
      </div>
      <div class="card bg-secondary" style="width: 40rem;">
        <div class="row g-0">
          <div class="col-md-4">
            {% if profile.profile_picture %}
              <img src="{{ profile.profile_picture.url }}" class="card-img-top" alt="Profile picture">
            {% else %}
              <img src="{% static 'profile_pictures/default_profile.jpg' %}" class="card-img-top" alt="Default profile picture">
            {% endif %}
          </div>
         <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title">
              {{ profile.title }}
              {% if profile.user.first_name %}
                {{ profile.user.first_name|capfirst }} {{ profile.user.last_name|capfirst }}!
              {% else %}
                {{ profile.user.username|capfirst }}!
              {% endif %}
            </h5>
            <p class="card-text">Username: {{ profile.user.username }} <br>
              Role: {{ profile.role }} <br>
              Title: {{ profile.title }} <br>
              Faculty member in the department of {{ profile.department }} <br>
              Position: {{ profile.position|capfirst }} <br>
              Brief bio: <br> {{ profile.bio }}</p>
              <div class="btn-group" role="group" aria-label="Basic example">
                <a class="btn btn-primary" href="{% url 'teacher-edit' teacher_id=profile.pk %}">Edit my profile</a>
                <a class="btn btn-primary" href="{% url 'teacher-delete' teacher_id=profile.pk %}">Delete profile</a>
              </div>
          </div>
         </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
