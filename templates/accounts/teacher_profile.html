{% extends 'base.html' %}
{% load static %}
{% block title %}  Teacher Home Page  {% endblock %}
{% block content %}
  <div class="my-5 pt-3 pb-5">
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      {% endfor %}
    {% endif %}
    <div class="row">
      <div class="col-md-2 d-none d-md-block bg-secondary px-2">
        {% if request.user.userprofile.role == 'admin' %}
          {% include 'admin_app/admin_navbar.html' %}
        {% elif request.user.userprofile.role == 'teacher' and request.user.userprofile.position == 'head' %}
          {% include 'accounts/head_navbar.html' %}
        {% elif request.user.userprofile.role == 'teacher' and request.user.userprofile.position == '' %}
          {% include 'accounts/teacher_navbar.html' %}
        {% elif request.user.userprofile.role == 'student' %}
          {% include 'accounts/student_navbar.html' %}
        {% endif %}
      </div>

      <!-- body-->
      <div class="statbox" style="margin: 0 auto;">
        <span class="text-primary">
          <i class="fas fa-chalkboard-teacher fa-3x"></i>
        </span>
        <P> Welcome back, Teacher
          {% if profile.user.first_name %}
            {{ profile.user.first_name|capfirst }}  {{ profile.user.last_name|capfirst }}!
          {% else %}
            {{ profile.user.username|capfirst }}!
          {% endif %}
        </P>
        <div class="card bg-secondary" style="max-width: 40rem;">
        <div class="row g-0">
          <div class="col-md-4">
            {% if profile.profile_picture %}
                <img src="{{ profile.profile_picture.url }}" class="card-img-top" alt="Profile picture">
              {% else %}
                <img src="{% static 'profile_pictures/default_profile.jpg' %}" class="card-img-top" alt="Default profile picture">
              {% endif %}
          </div>
        <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title text-center">
              {% if profile.user.first_name %}
                {{ profile.user.first_name|capfirst }}  {{ profile.user.last_name|capfirst }}
              {% else %}
                {{ profile.user.username|capfirst }}
              {% endif %}
            </h5>
            <p class="card-text">
              Username: {{ profile.user.username|capfirst }} <br>
              Role: {{ profile.role|capfirst }} <br>
              Title: {{ profile.title }} <br>
              Faculty member in the department of {{ profile.department }} <br>
              email: {{ profile.user.email }} <br>
              Brief bio: <br> {{ profile.bio }}
            </p>
            <div class="btn-group" role="group" aria-label="Edit and delete buttons">
              <a class="btn btn-primary" href="{% url 'edit-profile' profile_id=profile.pk %}">Edit teacher profile</a>
              <a class="btn btn-primary" href="{% url 'teacher-delete' teacher_id=profile.pk %}">Delete teacher profile</a>
            </div>
          </div>
        </div>
        </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
