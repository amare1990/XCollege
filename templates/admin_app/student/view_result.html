{% extends 'base.html' %}
{% block title %} My result {% endblock %}
{% block content %}

  <div class="my-5 pt-3 pb-5">
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-warning alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endfor %}
      {% endif %}

      <div class="row">
        <div class="col-md-2 d-none d-md-block bg-secondary px-2">
          {% if request.user.userprofile.role == 'admin' %}
            {% include 'admin_app/admin_navbar.html' %}
          {% elif request.user.userprofile.role == 'teacher' and request.user.userprofile.position == 'head' %}
            {% include 'accounts/head_navbar.html' %}
          {% elif request.user.userprofile.role == 'teacher' and request.user.userprofile.position == '' %}
            {% include 'accounts/teacher_navbar.html' %}
          {% elif request.user.userprofile.role == 'student' %}
            {% include 'accounts/student_navbar.html' %}
          {% endif %}
        </div>
        <div class="col-md-10" style="max-width: 68%; background-color: rgb(40, 109, 109); margin: 0 auto;">
          <h3 class="pt-5">My result ({{ userObj.username }})  for {{ course.name }} course</h3>
          <div class="container my-5">
              <table class="table table-dark table-responsive">
                <thead>
                  <tr>
                    <th scope="col">Id</th>
                    <th scope="col"> Username </th>
                    {% for mark  in my_mark %}
                      {% if mark.assessment.assessment_name != 'Comment' %}
                        <th scope="col">{{ mark.assessment.assessment_name }}</th>
                      {% endif %}
                    {% endfor %}
                    <th scop="col">Total Mark (100%)</th>
                    <th scope="col">Grade</th>
                    <td>Remark</td>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>{{ userObj.id }}</td>
                    <td>{{ userObj.username }}</td>
                    {% for mark in my_mark %}
                      {% if mark.assessment.assessment_name != 'Comment' %}
                        <td scope="col">   {{ mark.mark }} </td>
                      {% endif %}
                    {% endfor %}
                    <td>{{ total_mark }}</td>
                    <td>{{ grade }}</td>
                    <!-- <td>Ok!</td> -->
                    {% for mark in my_mark %}
                      {% if mark.assessment.assessment_name == 'Comment' %}
                        <td scope="col">   {{ mark.comment }} </td>
                      {% endif %}
                    {% endfor %}
                  </tr>
                </tbody>
              </table>
          </div>
        </div>
      </div>
  </div>

{% endblock %}
